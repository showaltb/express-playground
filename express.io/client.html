<!DOCTYPE html>
<html>
  <head>
    <script src="/javascripts/jquery.js"></script>
    <script src="/javascripts/underscore.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <h1>express.io sample</h1>

    <p>Received messages:</p>
    <ul id="messages">
    </ul>

    <script>
      (function() {

        var socket = io.connect();

        // Emit ready event.
        socket.emit('ready');

        // Listen for the talk event.
        socket.on('talk', function(data) {
          console.log(data);
          $('#messages').append('<li>' + _.escape(JSON.stringify(data.message)) + '</li>');
        });

      })();

    </script>

  </body>
